<!DOCTYPE html>
<html>
<head>
  <title>Anime Dungeons - Banner 24H</title>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Open+Sans:wght@300;400;600;700&display=swap');

    body {
      background-color: #141414;
      color: white;
      font-family: 'Open Sans', sans-serif;
      padding: 20px;
      text-align: center;
    }

    h1 {
      font-size: 48px;
      margin-bottom: 30px;
      text-shadow: 2px 2px 4px #000000;
    }

    p {
      font-size: 20px;
      line-height: 1.5;
      margin-bottom: 20px;
    }

    table {
      margin: 0 auto;
    }

    th {
      font-size: 24px;
      text-shadow: 1px 1px 2px #000000;
    }

    ul {
      list-style-type: none;
      padding-left: 0;
      margin-top: 0;
      margin-bottom: 10px;
    }

    li {
      margin-bottom: 10px;
      text-shadow: 1px 1px 2px #000000;
      font-size: 20px;
    }

    .corner-text {
      position: fixed;
      bottom: 10px;
      left: 10px;
      font-size: 14px;
      color: white;
      cursor: pointer;
    }

    .corner-text:hover {
      text-decoration: underline;
    }

    .legendary {
      color: orange;
    }

    .rare {
      color: blue;
    }

    .uncommon {
      color: lightgreen;
    }

    .common {
      color: lightgray;
    }
  </style>
</head>
<body>
  <div style="background-color: #222222;">
    <h1>Anime Dungeons - Banner 24H</h1>

    <p>Official game banner with 100% of precision. Updates every 1 hour.</p>

    <table>
      <tr>
        <td valign="top">
          <h2>Legendary</h2>
          <ul id="legendary-character-list">
            <!-- Personagem lendário será adicionado aqui via JavaScript -->
          </ul>
        </td>
        <td valign="top">
          <h2>Rare</h2>
          <ul id="rare-character-list">
            <!-- Personagem raro será adicionado aqui via JavaScript -->
          </ul>
        </td>
        <td valign="top">
          <h2>Uncommon</h2>
          <ul id="uncommon-character-list">
            <!-- Personagem incomum será adicionado aqui via JavaScript -->
          </ul>
        </td>
        <td valign="top">
          <h2>Common</h2>
          <ul id="common-character-list">
            <!-- Personagens comuns serão adicionados aqui via JavaScript -->
          </ul>
        </td>
      </tr>
    </table>

    <a href="https://web.roblox.com/games/9105171936/Anime-Dungeons" class="corner-text">Check Roblox Game</a>
  </div>

  <script>
    // Tabelas de personagens
    var legendaryCharacterTable = [
      "Ace",
      "Goku",
      "Luffy"
    ];

    var rareCharacterTable = [
      "Gohan",
      "Deku",
      "Nami"
    ];

    var uncommonCharacterTable = [
      "Vegeta",
      "Kuririn",
      "Majin Boo"
    ];

    var commonCharacterTable = [
      "Asta",
      "Light Yagami",
      "Nezuko",
      "Tanjiro"
    ];

    // Função para atualizar as listas de personagens
    function updateCharacterLists() {
      updateCharacterList(legendaryCharacterTable, "legendary-character-list", 1, "legendary");
      updateCharacterList(rareCharacterTable, "rare-character-list", 1, "rare");
      updateCharacterList(uncommonCharacterTable, "uncommon-character-list", 1, "uncommon");
      updateCharacterList(commonCharacterTable, "common-character-list", 3, "common");
    }

    // Função para atualizar uma lista de personagens
    function updateCharacterList(characterTable, listId, count, rarityClass) {
      var ul = document.getElementById(listId);
      ul.innerHTML = ""; // Limpa a lista antes de adicionar os novos personagens

      // Seleciona aleatoriamente os personagens da tabela
      var randomCharacters = getRandomCharacters(characterTable, count);

      // Adiciona os personagens à lista
      for (var i = 0; i < randomCharacters.length; i++) {
        var li = document.createElement("li");
        li.innerText = randomCharacters[i];
        li.classList.add(rarityClass);
        ul.appendChild(li);
      }
    }

    // Função para selecionar aleatoriamente 'count' elementos de um array
    function getRandomCharacters(array, count) {
      var shuffledArray = array.slice(); // Copia o array original
      var randomCharacters = [];

      while (randomCharacters.length < count && shuffledArray.length > 0) {
        var randomIndex = Math.floor(Math.random() * shuffledArray.length);
        var randomCharacter = shuffledArray.splice(randomIndex, 1)[0];
        randomCharacters.push(randomCharacter);
      }

      return randomCharacters;
    }

    // Atualiza as listas de personagens inicialmente
    updateCharacterLists();

    // Função para verificar e atualizar o banner (listas de personagens)
    function checkAndUpdateBanner() {
      // Atualiza as listas de personagens imediatamente
      updateCharacterLists();

      // Aguarda até a próxima hora para verificar novamente
      var currentTime = new Date();
      var minutesUntilNextHour = 60 - currentTime.getMinutes();
      var millisecondsUntilNextHour = minutesUntilNextHour * 60 * 1000;
      setTimeout(checkAndUpdateBanner, millisecondsUntilNextHour); // Próxima hora = minutos restantes até o próximo hora * 60 segundos * 1000 milissegundos
    }

    // Inicia o processo de verificação e atualização do banner
    function initializeBanner() {
      var currentTime = new Date();
      var minutesUntilNextHour = 60 - currentTime.getMinutes();
      var millisecondsUntilNextHour = minutesUntilNextHour * 60 * 1000;
      setTimeout(checkAndUpdateBanner, millisecondsUntilNextHour);
    }

    // Inicia o banner somente quando passar 1 hora em relação ao horário GMT de 00:00
    function startBannerAfterOneHour() {
      var currentTime = new Date();
      var minutesPastHour = currentTime.getMinutes();
      var millisecondsUntilNextHour = (60 - minutesPastHour) * 60 * 1000;
      setTimeout(initializeBanner, millisecondsUntilNextHour);
    }

    // Inicia o banner
    startBannerAfterOneHour();
  </script>
</body>
</html>
